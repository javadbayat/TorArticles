# نحوه استفاده از مرورگر تور برای وصل شدن به تلگرام در ایران
> کپی بدون ذکر منبع مجاز و حلال است!

با شدیدتر شدن فیلترینگ، بسیاری از VPNها دیگر وصل نمی شوند و استفاده از VPN برای بازکردن تلگرام به راحتی ممکن نیست. در این شرایط، یک راه آسان تر برای دورزدن فیلترینگ و وصل شدن به تلگرام، استفاده از سرویس Tor است. سرویس Tor برای ناشناس ماندن کاربران در محیط اینترنت به کار می رود و می تواند داده هایی از کاربران را مانند موقعیّت مکانی و آدرس IP پنهان کند. در حال حاضر، Tor امن ترین سامانه ارتباطی جهان در فضای سایبری است به گونه ای که تاکنون هیچ سازمان و نهاد امنیّتی قادر به شکافتن کدهای آن نبوده است.

در حال حاضر، در بسیاری از سایت های فارسی زبان، آموزش هایی در زمینه چگونگی وصل شدن به سرویس Tor وجود دارد، که دیگر قدیمی شده اند و بخاطر گسترده تر شدن فیلترینگ، دیگر در شرایط کنونی مفید نیستند. آن آموزش ها اغلب به تنظیم پل های obfs4 در پیکربندی Tor پرداخته اند که این پل ها اکنون فیلتر شده اند و اگر از آن ها استفاده کنید، طبیعتاً با پیغام خطای «General SOCKS server failure» مواجه خواهید شد. لذا جهت وصل شدن به سرویس Tor، لاذم است که از پل های snowflake استفاده کنید و ویژگی uTLS آن را نیز فعّال کنید، که در این صفحه نحوه این کار را توضیح خواهیم داد.

در ضمن، من این آموزش را بر اساس [چیز هایی که از سایت رسمی Tor یاد گرفتم](https://forum.torproject.net/t/iran-circumventing-censorship-with-tor/4590/23#snowflake-with-utls-support-in-tor-browser-1154-1) نوشته ام، پس نگران صحّت این آموزش نباشید.

در زیر، روش وصل شدن به تلگرام از طریق سرویس Tor شرح داده شده است. البتّه این روش فقط برای برنامه تلگرام روی کامپیوتر با سیستم عامل ویندوز جواب می دهد.

## دستورالعمل ها
1. آخرین نسخه مرورگر Tor را از صفحه زیر دانلود و نصب کنید. اگر هم از قبل این مرورگر را دارید آن را بروزرسانی نمایید (توجّه کنید که شما به ورژن 11.5.4 یا بالاتر نیاز دارید).  
[https://tor.calyxinstitute.org/download](https://tor.calyxinstitute.org/download)  
**راهنمایی:** گزینه دانلود در این صفحه، نسخه 64-بیتی مرورگر Tor به زبان انگلیسی را ارائه می دهد. اگر سیستم شما 32-بیتی است، گزینه «Download in another language or platform» را انتخاب کنید. سپس صفحه جدیدی باز می شود که از جدول موجود در ستون «Windows» گزینه «32-bit» را انتخاب کنید. در ضمن می توانید از این جدول نسخه فارسی یا هر زبان دیگری که تمایل دارید را نیز دانلود کنید.
2. مرورگر Tor را اجرا کنید. سپس در صفحه آغازین مرورگر، روی دکمه «Configure connection» کلیک کنید تا صفحه تنظیمات مرورگر باز شود.
3. حال بایستی یک پل تنظیم کنید. برای این کار، از پانل سمت چپ به سربرگ «Connection» بروید. به پایین صفحه اسکرول کنید و در قسمت «Add a New Bridge»، روی دکمه سوم یعنی «Add a Bridge Manually» کلیک کنید تا یک پنجره حاوی یک کادر متنی ظاهر شود. آدرس پل زیر را کپی کنید و در آن کادر متنی پیست کنید:  
```
snowflake 192.0.2.3:80 2B280B23E1107BB62ABFC40DDCC8824814F80A72 fingerprint=2B280B23E1107BB62ABFC40DDCC8824814F80A72 url=https://snowflake-broker.torproject.net.global.prod.fastly.net/ front=cdn.sstatic.net ice=stun:stun.voip.blackberry.com:3478,stun:stun.altar.com.pl:3478,stun:stun.antisip.com:3478,stun:stun.bluesip.net:3478,stun:stun.dus.net:3478,stun:stun.epygi.com:3478,stun:stun.sonetel.com:3478,stun:stun.sonetel.net:3478,stun:stun.stunprotocol.org:3478,stun:stun.uls.co.za:3478,stun:stun.voipgate.com:3478,stun:stun.voys.nl:3478 utls-imitate=hellochrome_auto
```
4. روی دکمه «OK» کلیک کنید و به صفحه اصلی مرورگر برگردید.
5. روی دکمه «Connect» کلیک کنید. حال حدود یک دقیقه صبر کنید تا به شبکه تور وصل شوید، که در این صورت صفحه بنفش رنگی با یک سری متون مشاهده خواهید کرد. اگر بعد از گذشت یک دقیقه وصل نشدید، احتمالاً خطایی در اتّصال رخ داده است. در صورت بروز خطا، به مرحله 3 برگردید و قسمت انتهایی آدرس پل را با عبارت `utls-imitate=helloios_auto` جایگزین کنید. سپس سعی کنید مجدداً به شبکه تور وصل شوید. اگر باز هم تور وصل نشد، این بار عبارت `utls-imitate=hellorandomizedalpn` را امتحان کنید.
6. حال به تلگرام رفته و یک پروکسی از نوع SOCKS5 با مشخّصات زیر تنظیم کنید.  
Hostname: `127.0.0.1`  
Port: `9150`  
قسمت های Username و Password را هم خالی بگذارید.
7. کار تمام است! کمی صبر کنید تا تلگرام شما وصل شود.  البتّه این نکته مهم را یادتان نرود که تا وقتی که برنامه تلگرام باز است، مرورگر Tor نیز باید باز باشد تا اتّصال شما قطع نشود. پس از اینکه کار شما با تلگرام تمام شد و تلگرام را بستید، آنگاه می توانید مرورگر Tor را نیز با خیال راحت ببندید.

برای دفعات بعدی هم که خواستید به تلگرام وصل شوید، فقط کافی است مرورگر تور را باز کنید، روی دکمه «Connect» کلیک کنید و بعد از اینکه به شبکه تور وصل شدید، تلگرام را باز کنید.

## منابع
1. [https://forum.torproject.net/t/iran-circumventing-censorship-with-tor/4590/23#snowflake-with-utls-support-in-tor-browser-1154-1](https://forum.torproject.net/t/iran-circumventing-censorship-with-tor/4590/23#snowflake-with-utls-support-in-tor-browser-1154-1)
2. [تیم بلک سکوریتی](https://blacksecurityteam.com/troubleshoot-a-tor-broswer-connection/)
